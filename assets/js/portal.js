"use strict";const linkList=document.querySelector(".link-list"),calendar=document.querySelector(".header-calendar"),weatherContainer=document.querySelector(".header-weather"),renderCalendar=function(){const a=new Date,n=a.getMonth(),t=a.getDate(),e=a.getFullYear(),s=new Date(e,n,1,0,0,0).getDay()+1,o=new Date(e,n+1,0,0,0,0).getDate();return`\n        <div class="calendar">\n            <div class="calendar__today">\n                <span>${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n]}</span>\n                <span>${t}</span>\n            </div>\n            <div class="calendar__grid">\n                <span class="dow">S</span>\n                <span class="dow">M</span>\n                <span class="dow">T</span>\n                <span class="dow">W</span>\n                <span class="dow">T</span>\n                <span class="dow">F</span>\n                <span class="dow">S</span>\n                ${Array.from(Array(o)).map(((a,n)=>`<span${n+1===t?' class="today"':""}${0===n?` style="grid-column-start: ${s}"`:""}>${n+1}</span>`)).join("")}\n            </div>\n        </div>\n    `};calendar.innerHTML=renderCalendar();const masonry=function(){document.querySelectorAll(".category-group").forEach((a=>{const n=a.firstElementChild,t=Math.round(n.offsetHeight/60);a.style.gridRowEnd=`span ${t}`}))},renderBookmarks=function(a){const n=[...a].sort(((a,n)=>n.clicks-a.clicks)).splice(0,24),t=[...a].reduce(((a,n)=>(a[n.cat]||(a[n.cat]=[]),a[n.cat].push(n),a)),[]).sort(((a,n)=>a[0].rank-n[0].rank)),e=`\n  <div class="most-clicked">\n    <div>\n      <h2>Most Clicked</h2>\n      <ul>\n        ${n.map((a=>`<li><a href="http://angrychickens.com/portal/api/click.php?link=${a.linkID}" title="${a.clicks}">${a.linkName}</a></li>`)).join("")}\n      </ul>\n    </div>\n  </div>\n  ${t.map((a=>`\n    <div class="category-group">\n      <div>\n        <h2>${a[0].catName}</h2>\n        <ul>\n          ${a.map((a=>`<li><a href="http://angrychickens.com/portal/api/click.php?link=${a.linkID}" title="${a.clicks}">${a.linkName}</a></li>`)).join("")}\n        </ul>\n      </div>\n    </div>`)).join("")}\n  `;linkList.innerHTML=e,document.querySelectorAll(".category-group").forEach((a=>{const n=a.firstElementChild,t=Math.round(n.offsetHeight/60);a.style.gridRowEnd=`span ${t}`}))},getBookmarks=async function(){try{const a=await fetch("https://angrychickens.com/portal/api/");renderBookmarks(await a.json())}catch(a){console.log(a)}};getBookmarks();const renderWeather=function(a){console.log(a);const n=["S","M","T","W","T","F","S"],t=`\n  <div class="current-conditions">\n    <div class="current-conditions__temp">\n      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.24 21.26">\n        <path\n          d="M0,10.62A.84.84,0,0,1,.25,10a.86.86,0,0,1,.6-.24h2a.76.76,0,0,1,.58.25.94.94,0,0,1,0,1.22.74.74,0,0,1-.58.25h-2a.82.82,0,0,1-.6-.25A.83.83,0,0,1,0,10.62Zm2.86,6.93a.93.93,0,0,1,.23-.61l1.47-1.43a.77.77,0,0,1,.59-.23.85.85,0,0,1,.6.23.75.75,0,0,1,.24.57.94.94,0,0,1-.24.64L4.33,18.14a.91.91,0,0,1-1.23,0A.81.81,0,0,1,2.86,17.55Zm0-13.84a.93.93,0,0,1,.23-.61,1,1,0,0,1,.64-.25.84.84,0,0,1,.59.24L5.75,4.56A.78.78,0,0,1,6,5.15.82.82,0,0,1,5.15,6a.78.78,0,0,1-.59-.24L3.1,4.32A.84.84,0,0,1,2.86,3.71Zm2.55,6.91A5,5,0,0,1,6.11,8,5.22,5.22,0,0,1,8,6.11a5.13,5.13,0,0,1,4.62-.28A5.22,5.22,0,0,1,14.3,7a5.25,5.25,0,0,1,1.52,3.68,5.06,5.06,0,0,1-.7,2.61,5.24,5.24,0,0,1-1.9,1.9,5.22,5.22,0,0,1-5.22,0,5.24,5.24,0,0,1-1.9-1.9A5.31,5.31,0,0,1,5.41,10.62Zm1.7,0a3.4,3.4,0,0,0,1,2.5,3.37,3.37,0,0,0,2.49,1,3.55,3.55,0,0,0,3.54-3.54,3.37,3.37,0,0,0-1-2.47,3.43,3.43,0,0,0-2.5-1,3.38,3.38,0,0,0-2.48,1A3.33,3.33,0,0,0,7.11,10.62ZM9.77,18.4a.79.79,0,0,1,.25-.6.85.85,0,0,1,.6-.24.84.84,0,0,1,.61.24.81.81,0,0,1,.24.6v2a.84.84,0,0,1-.25.62.82.82,0,0,1-.6.25A.8.8,0,0,1,10,21a.84.84,0,0,1-.25-.62Zm0-15.5v-2A.82.82,0,0,1,10,.26.83.83,0,0,1,10.63,0a.8.8,0,0,1,.6.25.82.82,0,0,1,.25.6V2.9a.76.76,0,0,1-.25.58.84.84,0,0,1-.6.23.86.86,0,0,1-.6-.23A.79.79,0,0,1,9.77,2.9Zm5.52,13.18a.79.79,0,0,1,.79-.79.85.85,0,0,1,.6.23L18.14,17a.87.87,0,0,1,.24.61.81.81,0,0,1-.24.59.89.89,0,0,1-1.2,0l-1.42-1.42A1,1,0,0,1,15.29,16.08Zm0-10.92a.78.78,0,0,1,.23-.59L16.94,3.1a.84.84,0,0,1,.59-.24.79.79,0,0,1,.6.25.82.82,0,0,1,.25.6.84.84,0,0,1-.24.62L16.68,5.76a.88.88,0,0,1-.6.24.73.73,0,0,1-.56-.24A.85.85,0,0,1,15.29,5.16Zm2.26,5.46a.89.89,0,0,1,.24-.62.78.78,0,0,1,.57-.24h2a.85.85,0,0,1,.6,1.46.82.82,0,0,1-.6.25h-2a.74.74,0,0,1-.58-.25A.86.86,0,0,1,17.55,10.62Z"\n        />\n      </svg>\n      <span>${Math.round(a.current.temp)}°</span>\n    </div>\n    <div class="current-conditions__description">\n      ${a.current.weather[0].description[0].toUpperCase()}${a.current.weather[0].description.substring(1)} <strong>Feels Like:</strong> ${Math.round(a.current.feels_like)}˚\n      <strong>Low:</strong> ${Math.round(a.daily[0].temp.min)}˚ <strong>High:</strong> ${Math.round(a.daily[0].temp.max)}°\n    </div>\n  </div>\n  <div class="forecast">\n    ${a.daily.slice(1,6).map((a=>`\n      <div class="forecast__day">${n[new Date(1e3*a.dt).getDay()]}</div>\n      <div class="forecast__icon">\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.24 21.26">\n          <path\n            d="M0,10.62A.84.84,0,0,1,.25,10a.86.86,0,0,1,.6-.24h2a.76.76,0,0,1,.58.25.94.94,0,0,1,0,1.22.74.74,0,0,1-.58.25h-2a.82.82,0,0,1-.6-.25A.83.83,0,0,1,0,10.62Zm2.86,6.93a.93.93,0,0,1,.23-.61l1.47-1.43a.77.77,0,0,1,.59-.23.85.85,0,0,1,.6.23.75.75,0,0,1,.24.57.94.94,0,0,1-.24.64L4.33,18.14a.91.91,0,0,1-1.23,0A.81.81,0,0,1,2.86,17.55Zm0-13.84a.93.93,0,0,1,.23-.61,1,1,0,0,1,.64-.25.84.84,0,0,1,.59.24L5.75,4.56A.78.78,0,0,1,6,5.15.82.82,0,0,1,5.15,6a.78.78,0,0,1-.59-.24L3.1,4.32A.84.84,0,0,1,2.86,3.71Zm2.55,6.91A5,5,0,0,1,6.11,8,5.22,5.22,0,0,1,8,6.11a5.13,5.13,0,0,1,4.62-.28A5.22,5.22,0,0,1,14.3,7a5.25,5.25,0,0,1,1.52,3.68,5.06,5.06,0,0,1-.7,2.61,5.24,5.24,0,0,1-1.9,1.9,5.22,5.22,0,0,1-5.22,0,5.24,5.24,0,0,1-1.9-1.9A5.31,5.31,0,0,1,5.41,10.62Zm1.7,0a3.4,3.4,0,0,0,1,2.5,3.37,3.37,0,0,0,2.49,1,3.55,3.55,0,0,0,3.54-3.54,3.37,3.37,0,0,0-1-2.47,3.43,3.43,0,0,0-2.5-1,3.38,3.38,0,0,0-2.48,1A3.33,3.33,0,0,0,7.11,10.62ZM9.77,18.4a.79.79,0,0,1,.25-.6.85.85,0,0,1,.6-.24.84.84,0,0,1,.61.24.81.81,0,0,1,.24.6v2a.84.84,0,0,1-.25.62.82.82,0,0,1-.6.25A.8.8,0,0,1,10,21a.84.84,0,0,1-.25-.62Zm0-15.5v-2A.82.82,0,0,1,10,.26.83.83,0,0,1,10.63,0a.8.8,0,0,1,.6.25.82.82,0,0,1,.25.6V2.9a.76.76,0,0,1-.25.58.84.84,0,0,1-.6.23.86.86,0,0,1-.6-.23A.79.79,0,0,1,9.77,2.9Zm5.52,13.18a.79.79,0,0,1,.79-.79.85.85,0,0,1,.6.23L18.14,17a.87.87,0,0,1,.24.61.81.81,0,0,1-.24.59.89.89,0,0,1-1.2,0l-1.42-1.42A1,1,0,0,1,15.29,16.08Zm0-10.92a.78.78,0,0,1,.23-.59L16.94,3.1a.84.84,0,0,1,.59-.24.79.79,0,0,1,.6.25.82.82,0,0,1,.25.6.84.84,0,0,1-.24.62L16.68,5.76a.88.88,0,0,1-.6.24.73.73,0,0,1-.56-.24A.85.85,0,0,1,15.29,5.16Zm2.26,5.46a.89.89,0,0,1,.24-.62.78.78,0,0,1,.57-.24h2a.85.85,0,0,1,.6,1.46.82.82,0,0,1-.6.25h-2a.74.74,0,0,1-.58-.25A.86.86,0,0,1,17.55,10.62Z"\n          />\n        </svg>\n      </div>\n      <div class="forecast__high">${Math.round(a.temp.max)}°</div>\n      <div class="forecast__low">${Math.round(a.temp.min)}°</div>\n      `)).join("")}\n    </div>\n  `;weatherContainer.innerHTML=t,a.daily.forEach((a=>{const n=new Date(1e3*a.dt);console.log(n,a.temp.max)}))},getWeather=async function(){try{const a=await fetch("https://api.openweathermap.org/data/2.5/onecall?lat=39.2782&lon=-76.7401&units=imperial&exclude=minutely,hourly,alerts&appid=1c58086a0dd586e3fd26953775313809"),n=await a.json();renderWeather(n)}catch(a){console.log(a)}};getWeather();const postBookmark=async function(){let a=new FormData;a.append("cheese","Cheddar");try{const n=await fetch("https://angrychickens.com/portal/api/test.php",{method:"POST",body:a}),t=await n.json();console.log("postBookmark",t)}catch(a){console.error(a)}},postBookmark2=async function(){try{const a=await fetch("https://angrychickens.com/portal/api/test.php"),n=await a.json();console.log("postBookmark2",n)}catch(a){console.error(a)}};